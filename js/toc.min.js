/*
 * # Streaming - 1.0.0
 * https://github.com/yemaster/streaming
 * https://blog.yemaster.cn
 *
 * Copyright 2024 yemaster
 * Released under the MIT license
 * https://opensource.org/licenses/MIT
 */
document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll("#article-main h1,#article-main h2,#article-main h3,#article-main h4,#article-main h5,#article-main h6"),e=[],o=document.getElementById("ax-toc");o.innerHTML="";const n=5.5*parseFloat(getComputedStyle(document.documentElement).fontSize);let i=0;for(const c of t){i+=1,c.id=`ax-header-${i}`;const t=document.createElement("div");t.classList.add("ax-toc-item",`ax-toc-${c.tagName.toLowerCase()}`),t.innerText=c.innerText,t.addEventListener("click",(()=>{const t=c.getBoundingClientRect().top,e=(window.pageYOffset||document.documentElement.scrollTop)+t-n;location.hash=`go-${c.id}`,window.scrollTo({top:e,behavior:"smooth"})})),location.hash===`#go-${c.id}`&&t.click(),e.push(t),o.appendChild(t)}let c=-1;window.addEventListener("scroll",((t,e)=>{let o=0;return function(...n){const i=Date.now();i-o>=e&&(o=i,t.apply(this,n))}})((function(){let i=-1,a=-1/0;for(let e=0;e<t.length;++e){const o=t[e].getBoundingClientRect().top-5;o<=n&&o>a&&(i=e,a=o)}if(-1!==i&&!e[i].classList.contains("active")){-1!=c&&e[c].classList.remove("active"),c=i,e[i].classList.add("active");const t=e[i].offsetTop,n=o.clientHeight,a=o.scrollTop;(t<a||t>=a+n)&&o.scrollTo({top:t,behavior:"smooth"})}}),50))}));